<h1 class="ui dividing header">
  {{ community.name }}
  <a class="ui small button" ng-click="showEditGroup(community)">EDIT</a>
  <div class="sub header">{{ community.description }}</div>
</h1>
<!-- new group modal -->
<div class="ui edit group modal">
  <i class="close icon"></i>
  <div class="header">
    그룹 정보 수정
  </div>
  <div class="content">
    <div class="ui form">
      <div class="field">
        <label>그룹명</label>
        <input ng-model="editGroupForm.name" type="text">
      </div>
      <div class="field">
        <label>설명</label>
        <input ng-model="editGroupForm.description" type="text">
      </div>
    </div>
  </div>
  <div class="actions">
    <div class="ui black cancel button">
      Cancel
    </div>
    <div class="ui green right labeled icon button" ng-click="editGroup()">
      Edit
      <i class="checkmark icon"></i>
    </div>
  </div>
</div>

<form class="ui form segment">
  <div class='four fields'>
    <div class='date field' style="margin-bottom:0;">
      <input ng-model="term.start_date" ui-date="{ dateFormat: 'yy-mm-dd' }" placeholder="시작일자" type="text">
    </div>
    <div class='date field' style="margin-bottom:0;">
      <input ng-model="term.end_date" ui-date="{ dateFormat: 'yy-mm-dd' }" placeholder="종료일자" type="text">
    </div>
    <div class="ui buttons">
      <div class="ui blue large submit button" ng-click="termSubmit()">기간별</div>
      <div class="ui blue large submit button" ng-click="thisMonth()">이번달</div>
      <div class="ui blue large submit button" ng-click="thisYear()">올해</div>
      <div class="ui positive large submit button" ng-click="monthlyBalance()">월말정산</div>
    </div>
  </div>
</form>

<div class="top-money-info ui connected items">
  <div class="three ui row">
    <div class="item">
      <div class="content">
        <div class="name">
          <i class="cloud download icon"></i>
          수입
        </div>
        <div class="number">
          <i class="korean won icon"></i> {{stats.income | number}}
        </div>
      </div>
    </div>
    <div class="item">
      <div class="content">
        <div class="name">
          <i class="cloud upload icon"></i>
          지출
        </div>
        <div class="number">
          <i class="korean won icon"></i> {{stats.outlay | number}}
        </div>
      </div>
    </div>
    <div class="item">
      <div class="content">
        <div class="name">
          <i class="money icon"></i>
          잔액
        </div>
        <div class="number {{ stats.total > 0 ? 'blue' : 'red'}}">
          <i class="korean won icon"></i> {{stats.total | number}}
        </div>
      </div>
    </div>
  </div>
</div>

<h3>거래내역입력하기</h3>
<form class="timeline-form ui small form segment">
  <div class='field'>
    <textarea ng-model='form.content' placeholder="Your message"></textarea>
  </div>
  <div class="three fields">
    <div class="date field">
      <label>거래일자</label>
      <input ng-model="form.issue_date" ui-date="{ dateFormat: 'yy-mm-dd' }" placeholder="거래일자" type="text">
      <!-- https://github.com/angular-ui/ui-date -->
      <!-- https://github.com/angular-ui/angular-ui-OLDREPO/issues/47 -->
    </div>
    <div class="field">
      <label>계정항목</label>
      <select ng-model="form.account_title_id">
          <option value="">Select</option>
          <option ng-repeat="account in account_titles" value="{{account.id}}">{{account.title}}</option>
      </select>
    </div>
    <div class="field">
      <label>수입/지출</label>
      <select ng-model="form.operator">
          <option value="">Select</option>
          <option value="+">수입</option>
          <option value="-">지출</option>
      </select>
    </div>
  </div>
  <div class="three fields">
    <div class="field">
      <label>적요</label>
      <input ng-model="form.remark" placeholder="적요란" type="text">
    </div>
    <div class="field">
      <label>거래금액</label>
      <input ng-model="form.amount" placeholder="거래금액" type="text">
    </div>
    <div class="field">
      <label>거래자</label>
      <select ng-model="form.issuer_id">
          <option value="">Select</option>
          <option ng-repeat="member in group_members" value="{{member.id}}">{{member.email}}</option>
      </select>
    </div>
  </div>
  <div class="ui blue submit button" ng-click="formSubmit()">Submit</div>
  <div class="ui submit button" ng-click="formCancel()">Cancel</div>
</form>
<ul class='bookkeepings'>
  <li class='bookkeeping' ng-repeat="bookkeeping in bookkeepings">
    <div>{{bookkeeping.writer.email}}님이 {{bookkeeping.created_at | timeago}}에 작성한 글입니다. <a ng-click="removeBookkeeping($index)"><i class='cloud remove circle icon'></i></a> <a ng-click="editBookkeeping($index)"><i class='cloud edit circle icon'></i></a> </div>
    <div class='content'>{{bookkeeping.content}}</div>
    <fielset>
      <legend>거래내역 >></legend>
      <table class='ui celled four table segment'>
        <tr>
          <td class='one wide'>{{bookkeeping.issue_date}}</td>
          <td class='two wide'>{{bookkeeping.issuer.email}}</td>
          <td class='five wide'><span class='green'>[{{bookkeeping.account_title.title}}]</span> {{bookkeeping.remark}}</td>
          <td class='two wide'>
            <div class='number {{ bookkeeping.operator == "-" ? "red" : "blue"}}' style='text-align:right;'>
              {{bookkeeping.operator}} <i class="korean won icon"></i> {{bookkeeping.amount | number}}
            </div>
          </td>
        </tr>
      </table>
    </fieldset>
    <fieldset>
      <legend>###TODO : 인증샷업로드하기</legend>
    </fieldset>    
    <fieldset>
      <legend>###TODO : 댓글추가하기</legend>
    </fieldset>
  </li>
</ul>